@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Color System - WCAG AA Compliant */
    --bg-primary: #000000;
    --bg-secondary: #0A0A0A;
    --bg-card: #111111;
    --accent-green: #A3E635;      /* Contrast: 12.6:1 on black (WCAG AAA) */
    --accent-green-dim: #A3E63533;
    --accent-red: #ef4444;
    --text-primary: #FFFFFF;      /* Contrast: 21:1 on black (WCAG AAA) */
    --text-secondary: #A0A0A0;    /* Contrast: 9.3:1 on black (WCAG AAA) */
    --text-tertiary: #666666;     /* Contrast: 4.5:1 on black (WCAG AA) */

    /* Typography */
    --font-body: 'Inter', system-ui, -apple-system, sans-serif;
    --font-display: 'Space Grotesk', 'Inter', sans-serif;
    --font-brand: 'Montserrat', 'Inter', sans-serif;

    /* Shared animation timing */
    --timing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --timing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --duration-fast: 0.3s;
    --duration-normal: 0.5s;
    --duration-slow: 0.8s;
  }

  html {
    @apply scroll-smooth;
    background-color: var(--bg-primary);
  }

  body {
    @apply font-sans antialiased text-white;
    background-color: var(--bg-primary);
    background: transparent; /* Allow particle background to show through */
    font-family: var(--font-body);
    font-feature-settings: 'kern' 1, 'liga' 1;
    letter-spacing: -0.01em;
  }

  /* Accessible focus indicators for all interactive elements */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 2px solid var(--accent-green);
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(163, 230, 53, 0.2);
  }

  /* Enhanced focus for buttons and links */
  button:focus-visible,
  a:focus-visible {
    box-shadow: 0 0 0 3px rgba(163, 230, 53, 0.3);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  h1 {
    font-weight: 800;
  }

  p {
    line-height: 1.7;
  }
}

@layer utilities {
  /* Fluid Brand-Green Animations */
  @keyframes glow-pulse {
    0%, 100% {
      box-shadow: 0 0 5px rgba(163, 230, 53, 0.3),
                  0 0 10px rgba(163, 230, 53, 0.2),
                  0 0 15px rgba(163, 230, 53, 0.1);
    }
    50% {
      box-shadow: 0 0 10px rgba(163, 230, 53, 0.5),
                  0 0 20px rgba(163, 230, 53, 0.4),
                  0 0 30px rgba(163, 230, 53, 0.3);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes gradient-flow {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  /* Consolidated animations using shared timing */
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-glow-pulse {
    animation: glow-pulse 3s ease-in-out infinite;
    will-change: box-shadow;
  }

  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(163, 230, 53, 0.1) 50%,
      transparent 100%
    );
    /* Optimized for mobile - reduced from 1000px */
    background-size: 200% 100%;
    animation: shimmer 3s infinite;
    will-change: background-position;
  }

  .animate-gradient-flow {
    background-size: 200% 200%;
    animation: gradient-flow 5s ease infinite;
    will-change: background-position;
  }

  /* Use shared timing variables for consistency */
  .animate-slide-up {
    animation: slide-up var(--duration-normal) var(--timing-smooth);
    will-change: opacity, transform;
  }

  .animate-fade-in {
    animation: fade-in var(--duration-normal) var(--timing-smooth);
    will-change: opacity;
  }

  .animate-scale-in {
    animation: scale-in var(--duration-normal) var(--timing-smooth);
    will-change: opacity, transform;
  }

  /* Stagger delays for list items */
  .animate-delay-100 { animation-delay: 100ms; }
  .animate-delay-200 { animation-delay: 200ms; }
  .animate-delay-300 { animation-delay: 300ms; }
  .animate-delay-400 { animation-delay: 400ms; }
  .animate-delay-500 { animation-delay: 500ms; }

  /* Smooth hover transitions with CSS containment for performance */
  .hover-lift {
    transition: transform var(--duration-fast) var(--timing-smooth),
                box-shadow var(--duration-fast) var(--timing-smooth);
    contain: layout style paint;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
  }

  .hover-glow:hover {
    box-shadow: 0 0 20px rgba(163, 230, 53, 0.4),
                0 0 40px rgba(163, 230, 53, 0.2);
  }

  /* Gradient text */
  .text-gradient-green {
    background: linear-gradient(135deg, #A3E635 0%, #22c55e 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Box-based content layouts with CSS containment */
  .content-box {
    @apply bg-zinc-900 border border-zinc-800 rounded-2xl p-8;
    transition: all var(--duration-fast) var(--timing-smooth);
    contain: layout style paint;
  }

  .content-box:hover {
    @apply border-lime-400 shadow-lg;
  }

  .content-box-highlight {
    @apply bg-gradient-to-br from-lime-400/10 to-green-500/10 border-2 border-lime-400/20 rounded-2xl p-8;
    contain: layout style paint;
  }
}
