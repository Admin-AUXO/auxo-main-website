---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navigation from "../components/Navigation.astro";
import { Icon } from "astro-icon/components";
import { services } from "../data/collections/services";
import { siteData } from "../data/config/site";
import { homepageContent } from "../data/content/homepage";
import { commonText } from "../data/shared/common";
import { getCollection } from "astro:content";

const base = import.meta.env.BASE_URL;

// Helper function to calculate read time
function calculateReadTime(content: string): number {
  const wordsPerMinute = 200;
  const wordCount = content.trim().split(/\s+/).length;
  return Math.ceil(wordCount / wordsPerMinute);
}

// Get latest blog posts
const allPosts = await getCollection("blog");
const latestPosts = allPosts
  .filter((post) => !post.data.draft)
  .sort(
    (a, b) =>
      new Date(b.data.publishDate).getTime() -
      new Date(a.data.publishDate).getTime(),
  )
  .slice(0, 3);
---

<BaseLayout
  title="Data Analytics Consultancy Dubai, UAE | AUXO Data Labs"
  description={siteData.description}
  showNav={false}
  showParticles={true}
>
  <Navigation />

  <!-- Hero Section -->
  <section
    id="hero"
    class="relative min-h-screen flex flex-col items-center justify-center overflow-hidden pt-4 sm:pt-8 pb-12 sm:pb-20"
  >
    <!-- Hero Content Container -->
    <div
      class="container mx-auto px-4 sm:px-6 relative z-10 flex-1 flex flex-col items-center justify-center"
    >
      <div class="w-full max-w-5xl mx-auto text-center">
        <!-- Logo Animation Container -->
        <div class="logo-reveal-container mb-8 sm:mb-10">
          <div class="logo-grid grid grid-cols-2 gap-3 w-32 md:w-40 mx-auto">
            <div class="logo-tile aspect-square" data-char="A">
              <span class="logo-char">A</span>
            </div>
            <div class="logo-tile aspect-square" data-char="U">
              <span class="logo-char">U</span>
            </div>
            <div class="logo-tile aspect-square" data-char="X">
              <span class="logo-char">X</span>
            </div>
            <div class="logo-tile aspect-square" data-char="O">
              <span class="logo-char">O</span>
            </div>
          </div>
        </div>

        <!-- Brand Text -->
        <div class="logo-caption mb-8">
          <h1
            class="text-2xl md:text-3xl lg:text-4xl font-bold mb-2 text-primary tracking-tight transition-colors"
          >
            Data Labs
          </h1>
          <p
            class="tagline text-sm md:text-base text-secondary font-light italic transition-colors"
          >
            Look Beyond Data
          </p>
        </div>

        <!-- Hero Content -->
        <div
          class="hero-content hero-backdrop rounded-3xl p-6 sm:p-8 md:p-10 border border-theme/50"
        >
          <div
            class="inline-block mb-6 px-4 py-2 bg-accent-green/10 border border-accent-green/30 rounded-full backdrop-blur-sm"
          >
            <span
              class="text-accent-green text-xs md:text-sm font-semibold tracking-wide transition-colors"
              >{homepageContent.hero.badge}</span
            >
          </div>

          <h2
            class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-4 md:mb-6 leading-tight text-primary transition-colors"
          >
            <span class="block">{homepageContent.hero.title}</span>
            <span class="text-gradient-green block"
              >{homepageContent.hero.titleHighlight}</span
            >
          </h2>

          <p
            class="text-sm sm:text-base md:text-lg text-primary mb-6 md:mb-8 max-w-3xl mx-auto leading-relaxed px-4 transition-colors font-medium"
          >
            {homepageContent.hero.subtitle}
          </p>

          <div
            class="flex flex-col sm:flex-row gap-4 justify-center mb-8 sm:mb-10 px-4"
          >
            <a
              href={`${base}${homepageContent.hero.primaryCta.href}`}
              class="group bg-accent-green text-black dark:text-white px-8 py-4 rounded-lg font-semibold hover:bg-accent-green/90 active:bg-accent-green/80 transition-all hover:scale-105 active:scale-95 text-base min-h-[48px] flex items-center justify-center gap-2"
            >
              {homepageContent.hero.primaryCta.text}
              <Icon
                name="mdi:arrow-right"
                class="w-5 h-5 group-hover:translate-x-1 transition-transform"
              />
            </a>
            <a
              href={`${base}${homepageContent.hero.secondaryCta.href}`}
              class="bg-card border-2 border-accent-green text-accent-green px-8 py-4 rounded-lg font-semibold hover:bg-accent-green hover:text-black dark:hover:text-white active:bg-accent-green/90 active:text-black dark:active:text-white transition-all hover:scale-105 active:scale-95 text-base min-h-[48px] flex items-center justify-center"
            >
              {homepageContent.hero.secondaryCta.text}
            </a>
          </div>

          <div
            class="flex flex-wrap justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-secondary px-4 transition-colors"
          >
            {
              homepageContent.hero.features.map((feature, index) => (
                <div
                  class="flex items-center gap-2 animate-fade-in"
                  style={`animation-delay: ${index * 100}ms`}
                >
                  <Icon
                    name="mdi:check-circle"
                    class="w-4 h-4 sm:w-5 sm:h-5 text-accent-green flex-shrink-0"
                  />
                  <span class="font-medium">{feature}</span>
                </div>
              ))
            }
          </div>
        </div>
      </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="relative z-10 pb-6 mt-8">
      <a
        href="#services"
        class="flex flex-col items-center text-secondary hover:text-accent-green transition-colors group"
      >
        <span class="text-xs mb-2">{homepageContent.hero.scrollIndicator}</span>
        <div class="animate-bounce">
          <Icon
            name="mdi:chevron-down"
            class="w-6 h-6 group-hover:scale-110 transition-transform"
          />
        </div>
      </a>
    </div>
  </section>

  <!-- Services Section -->
  <section
    id="services"
    class="py-16 sm:py-20 md:py-28 relative overflow-hidden"
  >
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12 sm:mb-16">
        <div
          class="inline-block mb-4 px-4 py-2 bg-accent-green/10 border border-accent-green/20 rounded-full"
        >
          <span class="text-accent-green text-sm font-semibold"
            >Our Expertise</span
          >
        </div>
        <h2
          class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-primary transition-colors"
        >
          Our <span class="text-gradient-green">Services</span>
        </h2>
        <p
          class="text-base sm:text-lg text-secondary max-w-2xl mx-auto transition-colors"
        >
          Comprehensive data solutions tailored to your business needs
        </p>
      </div>

      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto"
      >
        {
          services.slice(0, 6).map((service, index) => (
            <div
              class="group bg-card border-2 border-accent-green/30 rounded-xl p-6 sm:p-8 hover:border-accent-green pulse-box transition-all duration-300 hover:shadow-xl hover:shadow-accent-green/10 hover:-translate-y-2 animate-fade-in"
              style={`animation-delay: ${index * 100}ms`}
            >
              <div class="w-14 h-14 bg-accent-green/10 rounded-xl flex items-center justify-center mb-4 group-hover:bg-accent-green/20 transition-colors">
                <Icon name={service.icon} class="w-7 h-7 text-accent-green" />
              </div>
              <h3 class="text-xl sm:text-2xl font-bold mb-3 text-primary transition-colors">
                {service.title}
              </h3>
              <p class="text-sm sm:text-base text-secondary mb-6 leading-relaxed transition-colors">
                {service.description}
              </p>
              <a
                href={`${base}services/${service.id}/`}
                class="inline-flex items-center gap-2 text-accent-green hover:text-accent-green/80 font-semibold text-sm sm:text-base group-hover:gap-3 transition-all min-h-[44px]"
              >
                Learn more
                <Icon name="mdi:arrow-right" class="w-4 h-4 sm:w-5 sm:h-5" />
              </a>
            </div>
          ))
        }
      </div>

      <div class="text-center mt-12">
        <a
          href={`${base}services/`}
          class="inline-flex items-center gap-2 px-6 py-3 bg-surface border border-theme text-primary rounded-lg hover:border-accent-green/50 hover:bg-accent-green/10 transition-all font-semibold min-h-[44px]"
        >
          View All Services
          <Icon name="mdi:arrow-right" class="w-5 h-5" />
        </a>
      </div>
    </div>
  </section>

  <!-- Methodology Section -->
  <section class="py-16 sm:py-20 md:py-28 relative bg-surface/50">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="text-center mb-12 sm:mb-16">
        <div
          class="inline-block mb-4 px-4 py-2 bg-accent-green/10 border border-accent-green/20 rounded-full"
        >
          <span class="text-accent-green text-sm font-semibold"
            >How We Work</span
          >
        </div>
        <h2
          class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-primary transition-colors"
        >
          {homepageContent.methodology.title}
          <span class="text-gradient-green"
            >{homepageContent.methodology.titleHighlight}</span
          >
        </h2>
        <p
          class="text-base sm:text-lg text-secondary max-w-2xl mx-auto transition-colors"
        >
          {homepageContent.methodology.subtitle}
        </p>
      </div>

      <div class="max-w-6xl mx-auto">
        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-12"
        >
          {
            homepageContent.methodology.steps.map((step, index) => (
              <div
                class="relative group animate-fade-in"
                style={`animation-delay: ${index * 150}ms`}
              >
                <div class="bg-card border-2 border-accent-green/30 rounded-xl p-6 sm:p-8 hover:border-accent-green pulse-box transition-all duration-300 hover:shadow-xl hover:-translate-y-2 h-full relative overflow-hidden">
                  <!-- Large Number Background -->
                  <div class="absolute top-0 right-0 w-24 h-24 sm:w-28 sm:h-28 flex items-center justify-end pr-4 sm:pr-6 opacity-10 group-hover:opacity-20 transition-opacity">
                    <span class="text-7xl sm:text-8xl font-black text-accent-green leading-none">
                      {step.number}
                    </span>
                  </div>
                  
                  <!-- Title -->
                  <div class="mb-4 text-right">
                    <h3 class="text-xl sm:text-2xl font-bold mb-2 text-primary transition-colors">
                      {step.title}
                    </h3>
                    <div class="w-12 h-1 bg-accent-green rounded-full ml-auto"></div>
                  </div>
                  
                  <!-- Description -->
                  <p class="text-secondary leading-relaxed text-sm sm:text-base transition-colors">
                    {step.description}
                  </p>
                </div>
                {index < homepageContent.methodology.steps.length - 1 && (
                  <div class="hidden lg:block absolute top-1/2 -right-4 w-8 h-0.5 bg-gradient-to-r from-accent-green to-transparent z-10" />
                )}
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Section -->
  <section class="py-16 sm:py-20 md:py-28">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="text-center mb-12 sm:mb-16">
        <div
          class="inline-block mb-4 px-4 py-2 bg-accent-green/10 border border-accent-green/20 rounded-full"
        >
          <span class="text-accent-green text-sm font-semibold">Why Us</span>
        </div>
        <h2
          class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-primary transition-colors"
        >
          {homepageContent.whyChoose.title}
          <span class="text-gradient-green"
            >{homepageContent.whyChoose.titleHighlight}</span
          >
        </h2>
        <p
          class="text-base sm:text-lg text-secondary max-w-2xl mx-auto italic transition-colors"
        >
          {homepageContent.whyChoose.subtitle}
        </p>
      </div>

      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 max-w-7xl mx-auto"
      >
        {
          homepageContent.whyChoose.items.map((item, index) => (
            <div
              class="text-center p-6 bg-card border-2 border-accent-green/30 rounded-xl hover:border-accent-green pulse-box transition-all duration-300 hover:shadow-xl hover:-translate-y-2 animate-fade-in"
              style={`animation-delay: ${index * 100}ms`}
            >
              <div class="inline-flex items-center justify-center w-16 h-16 bg-accent-green/10 rounded-full mb-4 group-hover:bg-accent-green/20 transition-colors">
                <Icon name={item.icon} class="w-8 h-8 text-accent-green" />
              </div>
              <h3 class="text-xl font-bold mb-3 text-primary transition-colors">
                {item.title}
              </h3>
              <p class="text-secondary leading-relaxed text-sm sm:text-base transition-colors">
                {item.description}
              </p>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Maturity Calculator Section -->
  <section class="py-16 sm:py-20 md:py-28 relative bg-surface/50">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <div
          class="grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 items-center"
        >
          <!-- Left: Content -->
          <div class="animate-fade-in">
            <div
              class="inline-block px-4 py-2 bg-accent-green/10 border border-accent-green/20 rounded-full mb-4"
            >
              <span class="text-accent-green text-sm font-semibold"
                >{homepageContent.maturityCalculator.badge}</span
              >
            </div>
            <h2
              class="text-2xl sm:text-3xl md:text-4xl font-bold mb-4 text-primary transition-colors"
            >
              {homepageContent.maturityCalculator.title}
              <br class="hidden sm:block" />
              <span class="text-gradient-green"
                >{homepageContent.maturityCalculator.titleHighlight}</span
              >
            </h2>
            <p
              class="text-base sm:text-lg text-secondary mb-6 sm:mb-8 leading-relaxed transition-colors"
            >
              {homepageContent.maturityCalculator.subtitle}
            </p>

            <div class="space-y-4 mb-6 sm:mb-8">
              {
                homepageContent.maturityCalculator.benefits.map(
                  (benefit, index) => (
                    <div
                      class="flex items-start gap-4 animate-fade-in"
                      style={`animation-delay: ${index * 100}ms`}
                    >
                      <div class="w-10 h-10 bg-accent-green/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5">
                        <Icon
                          name="mdi:check-circle"
                          class="w-6 h-6 text-accent-green"
                        />
                      </div>
                      <div>
                        <p class="font-semibold text-primary mb-1 transition-colors">
                          {benefit.title}
                        </p>
                        <p class="text-sm text-secondary transition-colors">
                          {benefit.description}
                        </p>
                      </div>
                    </div>
                  ),
                )
              }
            </div>

            <a
              href={`${base}${homepageContent.maturityCalculator.cta.href}`}
              class="inline-flex items-center gap-2 bg-accent-green text-black dark:text-white px-8 py-4 rounded-lg font-bold hover:bg-accent-green/90 active:bg-accent-green/80 transition-all hover:scale-105 active:scale-95 text-base min-h-[48px]"
            >
              {homepageContent.maturityCalculator.cta.text}
              <Icon name="mdi:arrow-right" class="w-5 h-5" />
            </a>
          </div>

          <!-- Right: Visual -->
          <div
            class="relative hidden lg:block animate-fade-in"
            style="animation-delay: 200ms"
          >
            <div class="bg-card border border-theme rounded-2xl p-8 shadow-2xl">
              <h3
                class="text-xl font-bold mb-6 text-center text-primary transition-colors"
              >
                Assessment Dimensions
              </h3>
              <div class="space-y-4">
                {
                  homepageContent.maturityCalculator.dimensions.map(
                    (dimension) => (
                      <div class="bg-surface rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                          <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-accent-green/10 rounded-lg flex items-center justify-center">
                              <Icon
                                name={
                                  dimension.name === "Infrastructure"
                                    ? "mdi:database"
                                    : dimension.name === "Analytics"
                                      ? "mdi:chart-bar"
                                      : "mdi:account-group"
                                }
                                class="w-5 h-5 text-accent-green"
                              />
                            </div>
                            <span class="font-medium text-primary transition-colors">
                              {dimension.name}
                            </span>
                          </div>
                          <span class="text-accent-green font-bold transition-colors">
                            {dimension.score}
                          </span>
                        </div>
                        <div class="h-2 bg-surface rounded-full overflow-hidden">
                          <div
                            class="h-full bg-gradient-to-r from-accent-green to-green-500 transition-all duration-500"
                            style={`width: ${dimension.percentage}%`}
                          />
                        </div>
                      </div>
                    ),
                  )
                }

                <div class="text-center mt-6 pt-6 border-t border-theme">
                  <p
                    class="text-2xl font-bold text-accent-green mb-1 transition-colors"
                  >
                    {homepageContent.maturityCalculator.resultLabel}
                  </p>
                  <p class="text-sm text-secondary transition-colors">
                    {homepageContent.maturityCalculator.resultSubtext}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Blog Preview Section -->
  <section class="py-16 sm:py-20 md:py-28">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12 sm:mb-16">
        <div
          class="inline-block mb-4 px-4 py-2 bg-accent-green/10 border border-accent-green/20 rounded-full"
        >
          <span class="text-accent-green text-sm font-semibold">Insights</span>
        </div>
        <h2
          class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-primary transition-colors"
        >
          {homepageContent.blog.title}
          <span class="text-gradient-green"
            >{homepageContent.blog.titleHighlight}</span
          >
        </h2>
        <p
          class="text-base sm:text-lg text-secondary max-w-2xl mx-auto transition-colors"
        >
          {homepageContent.blog.subtitle}
        </p>
      </div>

      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto mb-10 sm:mb-12"
      >
        {
          latestPosts.map((post, index) => (
            <article
              class="bg-card border-2 border-accent-green/30 rounded-xl overflow-hidden hover:border-accent-green pulse-box transition-all duration-300 group shadow-lg hover:shadow-xl hover:-translate-y-2 animate-fade-in"
              style={`animation-delay: ${index * 100}ms`}
            >
              <div class="p-6 sm:p-8">
                {post.data.tags[0] && (
                  <div class="inline-block px-3 py-1 bg-accent-green/10 border border-accent-green/20 rounded-full mb-4">
                    <span class="text-accent-green text-xs font-semibold uppercase tracking-wide">
                      {post.data.tags[0]}
                    </span>
                  </div>
                )}

                <h3 class="text-lg sm:text-xl font-bold mb-3 group-hover:text-accent-green transition-colors line-clamp-2 text-primary">
                  {post.data.title}
                </h3>

                <p class="text-secondary mb-4 leading-relaxed line-clamp-3 text-sm sm:text-base transition-colors">
                  {post.data.description}
                </p>

                <div class="flex items-center justify-between text-xs sm:text-sm text-secondary mb-4 transition-colors">
                  <span>
                    {new Date(post.data.publishDate).toLocaleDateString(
                      "en-GB",
                      { day: "numeric", month: "short", year: "numeric" },
                    )}
                  </span>
                  <span>{calculateReadTime(post.body || "")} min read</span>
                </div>

                <a
                  href={`${base}blog/${post.id}`}
                  class="inline-flex items-center gap-2 text-accent-green hover:text-accent-green/80 font-semibold text-sm sm:text-base group-hover:gap-3 transition-all min-h-[44px]"
                >
                  {commonText.buttons.viewArticle}
                  <Icon name="mdi:arrow-right" class="w-4 h-4" />
                </a>
              </div>
            </article>
          ))
        }
      </div>

      <div class="text-center">
        <a
          href={`${base}blog/`}
          class="inline-flex items-center gap-2 px-8 py-4 bg-surface border border-theme text-primary rounded-lg hover:border-accent-green/50 hover:bg-accent-green/10 transition-all font-semibold min-h-[48px]"
        >
          {homepageContent.blog.viewAllText}
          <Icon name="mdi:arrow-right" class="w-5 h-5" />
        </a>
      </div>
    </div>
  </section>

  <!-- Launch Offer Section -->
  <section
    class="py-16 sm:py-20 md:py-28 relative overflow-hidden bg-surface/50"
  >
    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-4xl mx-auto">
        <div
          class="bg-card border-2 border-accent-green/50 rounded-2xl p-8 sm:p-12 pulse-box"
        >
          <div class="flex justify-center mb-6">
            <div
              class="inline-flex items-center gap-2 px-4 py-2 bg-accent-green text-black dark:text-white rounded-full font-bold text-sm"
            >
              <Icon name="mdi:check-circle" class="w-5 h-5" />
              <span>{homepageContent.launchOffer.badge}</span>
              <Icon name="mdi:check-circle" class="w-5 h-5" />
            </div>
          </div>

          <h2
            class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-center text-primary transition-colors"
          >
            {homepageContent.launchOffer.title}
            <span class="text-accent-green"
              >{homepageContent.launchOffer.titleHighlight}</span
            >
          </h2>

          <p
            class="text-lg sm:text-xl text-primary mb-8 text-center max-w-2xl mx-auto leading-relaxed transition-colors font-medium"
          >
            {homepageContent.launchOffer.subtitle}
          </p>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8">
            {
              homepageContent.launchOffer.benefits.map((benefit, index) => (
                <div
                  class="bg-surface border-2 border-accent-green/30 rounded-xl p-6 hover:border-accent-green pulse-box transition-all duration-300 animate-fade-in"
                  style={`animation-delay: ${index * 100}ms`}
                >
                  <div class="flex items-start gap-3 mb-3">
                    <div class="w-10 h-10 bg-accent-green/10 rounded-lg flex items-center justify-center flex-shrink-0">
                      <Icon
                        name={benefit.icon}
                        class="w-6 h-6 text-accent-green"
                      />
                    </div>
                    <div>
                      <h3 class="font-bold text-xl mb-1 text-primary transition-colors">
                        {benefit.title}
                      </h3>
                      <p class="text-secondary text-sm transition-colors">
                        {benefit.description}
                      </p>
                    </div>
                  </div>
                </div>
              ))
            }
          </div>

          <div
            class="bg-accent-green/10 border border-accent-green/30 rounded-xl p-6 mb-8"
          >
            <div class="flex items-center justify-center gap-3 mb-2">
              <Icon name="mdi:alert-circle" class="w-6 h-6 text-accent-green" />
              <span class="font-bold text-lg text-primary transition-colors"
                >{homepageContent.launchOffer.limitedTime.title}</span
              >
            </div>
            <p class="text-center text-secondary transition-colors">
              {homepageContent.launchOffer.limitedTime.message}
              <span class="text-accent-green font-bold transition-colors"
                >{homepageContent.launchOffer.limitedTime.count}</span
              >
              {homepageContent.launchOffer.limitedTime.highlight}
            </p>
          </div>

          <div class="text-center">
            <a
              href={`${base}${homepageContent.launchOffer.cta.href}`}
              class="inline-flex items-center gap-2 bg-accent-green text-black dark:text-white px-10 py-4 rounded-lg font-bold hover:bg-accent-green/90 active:bg-accent-green/80 transition-all hover:scale-105 active:scale-95 text-lg min-h-[52px]"
            >
              {homepageContent.launchOffer.cta.text}
              <Icon name="mdi:arrow-right" class="w-5 h-5" />
            </a>
            <p class="text-sm text-secondary mt-4 transition-colors">
              {homepageContent.launchOffer.disclaimer}
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Final CTA Section -->
  <section class="py-16 sm:py-20 md:py-28 relative">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div
        class="max-w-3xl mx-auto bg-card/95 backdrop-blur-md border border-theme/50 rounded-3xl p-8 sm:p-12 shadow-2xl"
      >
        <h2
          class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 sm:mb-6 text-primary transition-colors"
        >
          {homepageContent.finalCta.title}
        </h2>
        <p
          class="text-base sm:text-lg md:text-xl text-primary mb-8 sm:mb-10 max-w-2xl mx-auto leading-relaxed transition-colors font-medium"
        >
          {homepageContent.finalCta.subtitle}
        </p>
        <a
          href={`${base}${homepageContent.finalCta.ctaHref}`}
          class="inline-block bg-accent-green text-black dark:text-white px-10 sm:px-12 md:px-16 py-4 md:py-5 rounded-lg font-bold hover:bg-accent-green/90 active:bg-accent-green/80 transition-all text-base sm:text-lg md:text-xl hover:scale-105 active:scale-95 min-h-[56px] sm:min-h-[60px] flex items-center justify-center mx-auto max-w-xs sm:max-w-none touch-manipulation"
        >
          {homepageContent.finalCta.ctaText}
        </a>
      </div>
    </div>
  </section>

  <style>
    .logo-tile {
      background: linear-gradient(135deg, #a3e635 0%, #86d12f 100%);
      display: grid;
      place-items: center;
      border-radius: 0;
      transform-origin: center center;
      opacity: 0;
      transform: scale(0) rotate(-180deg);
      animation: tileReveal 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      transition: all 0.3s ease;
    }

    /* Logo tiles - same green color in both themes for consistency */
    .logo-tile {
      background: linear-gradient(135deg, #a3e635 0%, #86d12f 100%);
    }

    :root.dark .logo-tile,
    :root:not(.light) .logo-tile,
    :root.light .logo-tile {
      background: linear-gradient(135deg, #a3e635 0%, #86d12f 100%);
    }

    .logo-tile:hover {
      transform: scale(1.05) rotate(0deg);
    }

    .logo-tile:nth-child(1) {
      animation-delay: 0s;
    }
    .logo-tile:nth-child(2) {
      animation-delay: 0.1s;
    }
    .logo-tile:nth-child(3) {
      animation-delay: 0.2s;
    }
    .logo-tile:nth-child(4) {
      animation-delay: 0.3s;
    }

    .logo-char {
      font-family: var(--font-brand);
      font-weight: 900;
      font-size: clamp(2.5rem, 8vmin, 4rem);
      color: #000000;
      line-height: 1;
    }

    .logo-caption {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.4s
        forwards;
    }

    .hero-content {
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 1s forwards;
    }

    @keyframes tileReveal {
      to {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Intersection Observer animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.6s ease-out forwards;
      opacity: 0;
    }

    /* Smooth scroll behavior */
    html {
      scroll-behavior: smooth;
    }
  </style>

  <script>
    function runHeroAnimation() {
      const heroSection = document.getElementById("hero");
      if (!heroSection) return;

      heroSection.classList.remove("hero-animate");
      heroSection.classList.add("hero-animation-reset");
      void heroSection.offsetWidth;
      heroSection.classList.remove("hero-animation-reset");
      heroSection.classList.add("hero-animate");
    }

    // Run animation on initial page load
    document.addEventListener("DOMContentLoaded", runHeroAnimation);
    document.addEventListener("astro:page-load", runHeroAnimation);

    // Intersection Observer for fade-in animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: "0px 0px -50px 0px",
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          (entry.target as HTMLElement).style.opacity = "1";
        }
      });
    }, observerOptions);

    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".animate-fade-in").forEach((el) => {
        observer.observe(el);
      });
    });

    document.addEventListener("astro:page-load", () => {
      document.querySelectorAll(".animate-fade-in").forEach((el) => {
        observer.observe(el);
      });
    });
  </script>
</BaseLayout>
