# AUXO Data Labs Website: Technical Guide for AI Agents

---

## PART 1: AGENT ONBOARDING & RULES OF ENGAGEMENT

This part contains critical information for AI Coding Agents. **You must read and adhere to these guidelines before making any changes to the codebase.**

### 1. Introduction for AI Coding Agents

Welcome, Agent. Your primary directive is to assist in the development and maintenance of the AUXO Data Labs corporate website. This document is your guide to the project's architecture, components, and conventions.

This project is a modern, high-performance static site built with Astro. Your goal is to understand its structure and conventions to make safe, efficient, and consistent changes.

**Recent Major Updates (December 2025):**
- ✅ **Data Refactoring**: Comprehensive refactoring of content management - 80% of pages/components now use centralized data files organized in `src/data/` with clear separation: `config/`, `collections/`, `content/`, and `shared/`
- ✅ **Type Safety**: All data structures now use TypeScript interfaces for full type safety
- ✅ **Content Organization**: Page-specific content separated from shared text and configuration

### 2. Guidelines for AI Coding Agents

#### Getting Acquainted

Before making any changes, familiarize yourself with the project:

1.  **`TECHNICAL_DOCUMENTATION.md`** (this file): Your primary source of truth.
2.  **`README.md`**: High-level project overview.

#### Core Principles

-   **Static First:** This is a static site generated by Astro. Prioritize static generation and minimize client-side JavaScript wherever possible.
-   **Component-Based Architecture:** The site is built with reusable Astro components found in `src/components/`. Always look for existing components to reuse before creating new ones.
-   **Data-Driven Content:** Most of the site's content is managed in TypeScript files in `src/data/`. When updating content, this should be your first stop.
-   **TypeScript Everywhere:** The project uses TypeScript for type safety. Ensure all new code is strongly typed.
-   **Utility-First CSS:** The project uses Tailwind CSS. Adhere to its utility-first principles and use the existing design tokens defined in `tailwind.config.js` and `src/styles/global.css`.
-   **Mobile-First Design:** The site uses a mobile-first responsive design approach. All components are optimized for touch interactions with minimum 44px × 44px touch targets, proper spacing, and mobile-friendly layouts.

#### Development Workflow

1.  **Analyze the Request:** Understand the user's request and context.
2.  **Formulate a Plan:** Create a clear plan using this documentation.
3.  **Implement Changes:** Follow the project's core principles and coding conventions.
4.  **Run Local Checks:** Ensure these commands run successfully:
    -   `npm run lint`: Checks for linting errors.
    -   `npm run check`: TypeScript type checking.
    -   `npm run build`: Verifies the site builds successfully.

#### Ground Rules

1.  **Adhere to Existing Conventions:** Mimic the style, structure, and patterns of the existing code.
2.  **No New Dependencies:** Do not introduce new libraries or frameworks without explicit instruction.
3.  **Update Documentation:** Update this `TECHNICAL_DOCUMENTATION.md` file when your changes alter the project's structure, add components, or modify existing features.

#### Code Style & Conventions

-   **Comments:** Add comments only when necessary to explain *why* a piece of code is written a certain way, not *what* it does. Avoid obvious comments.
-   **Naming Conventions:**
    -   Components: `PascalCase` (e.g., `MyComponent.astro`)
    -   Variables and functions: `camelCase` (e.g., `myVariable`, `myFunction`)
    -   TypeScript interfaces: `PascalCase` (e.g., `MyInterface`)
-   **Imports:** Keep imports organized at the top of the file, grouped as follows:
    1.  Astro imports
    2.  Third-party library imports
    3.  Internal component imports
    4.  Data imports
    5.  Type imports
-   **Tailwind CSS:** While there is no strict linter for class order, try to follow a consistent pattern (e.g., layout, spacing, typography, colors, effects).
-   **Mobile Optimization:** When adding or modifying components, ensure:
  - Touch targets are at least 44px × 44px (use `min-h-[44px]` or `min-w-[44px]`)
  - Use `touch-manipulation` CSS for better mobile performance
  - Add `active:` states alongside `hover:` for touch feedback
  - Use responsive spacing (`px-4 sm:px-6`, `py-3 sm:py-2`)

#### Dos and Don'ts (Best Practices)

**Content Management:**
-   **DO** use the organized data structure in `src/data/`:
    -   Use `config/` for site-wide settings
    -   Use `collections/` for structured data (services, FAQ, team)
    -   Use `content/` for page-specific content
    -   Use `shared/common.ts` for reusable text (buttons, labels, CTAs)
-   **DO** maintain TypeScript interfaces for all data structures - export interfaces alongside data
-   **DO** organize content logically - page content belongs in `content/`, shared text in `shared/`
-   **DON'T** hard-code strings directly into components or pages - 80% of files now use data files, maintain this pattern
-   **DON'T** mix content types - don't put page content in `collections/` or shared text in page-specific files
-   **DON'T** create duplicate data - check `shared/common.ts` before adding new common text

**Component Development:**
-   **DO** reuse existing components from `src/components/` whenever possible
-   **DO** ensure all new components and pages are accessible (a11y) by using semantic HTML and ARIA attributes where necessary. The ESLint configuration will help with this.
-   **DO** use mobile-first responsive design with 44px × 44px minimum touch targets
-   **DO** add `active:` states alongside `hover:` for better touch feedback
-   **DON'T** duplicate code. If you find yourself writing the same code in multiple places, create a reusable component.
-   **DON'T** create components that mix concerns - keep UI components separate from business logic

**Performance & Architecture:**
-   **DO** use Astro's `getCollection` API to query blog posts from `src/content/blog/`
-   **DO** keep client-side JavaScript minimal - this is a static-first site
-   **DON'T** add large client-side JavaScript libraries without a very strong justification
-   **DON'T** bypass Astro's static generation - prefer server-side rendering over client-side where possible

**Navigation & URLs:**
-   **DO** use the `base` variable (`import.meta.env.BASE_URL`) for all internal links and API calls
-   **DO** use relative paths with base URL prefix (e.g., `<a href={`${base}about`}>About</a>`)
-   **DON'T** use `<a>` tags for internal navigation without using the `base` variable
-   **DON'T** hardcode absolute URLs in client-side scripts - always use `import.meta.env.BASE_URL`

**Security & Configuration:**
-   **DO** verify Brevo sender email is verified before deploying contact forms
-   **DO** test API endpoints with proper validation and rate limiting
-   **DO** keep security headers up to date in `public/_headers`
-   **DON'T** commit `.cursor/mcp.json` or any MCP configuration files (contains secrets)
-   **DON'T** expose API keys, tokens, or sensitive data in code, commits, or documentation
-   **DON'T** bypass validation or rate limiting in API endpoints
-   **DON'T** commit `.env` files or environment variables with real values

#### Common "Gotchas" to Avoid

-   **Client-side Scripts:** Remember that Astro components are server-only by default. If you need to add client-side interactivity, you must use a `<script>` tag within the `.astro` file. The existing interactive components like `MultiStepForm.astro` and `MaturityCalculator.astro` are good examples of this pattern.
-   **API Endpoints:** The API endpoints in `src/pages/api/` are fully integrated with Brevo for email delivery. They have comprehensive Zod validation and rate limiting implemented. **IMPORTANT:** Brevo requires verified sender emails before any emails can be sent. Ensure `BREVO_FROM_EMAIL` is verified in your Brevo dashboard.
-   **Base URL:** The project is configured with a `base` URL in `astro.config.mjs`. All internal links and asset paths must be prefixed with the `base` variable to work correctly in both development and production. **Critical:** API calls in client-side scripts must also use the base URL (e.g., `fetch(\`${import.meta.env.BASE_URL}api/contact\`)`).
-   **Image Optimization:** While Astro's image optimization is powerful, be mindful of the image formats and sizes you use. Large, unoptimized images can still slow down the site.
-   **ESLint Configuration:** The project uses ESLint v9 with flat config format (`eslint.config.js`). The accessibility rule `jsx-a11y/label-has-associated-control` is configured to properly recognize `for` attribute associations in Astro components. Do not revert to the old `.eslintrc.cjs` format.

### 2.5 MCP Server Usage Guidelines

The project uses Model Context Protocol (MCP) servers for enhanced capabilities. **Important rules:**

#### MCP Server Configuration

-   **Location:** `.cursor/mcp.json` (local configuration file)
-   **Git Status:** This file is in `.gitignore` and must **NEVER** be committed to the repository
-   **Reason:** Contains sensitive tokens (GitHub Personal Access Tokens, API keys)

#### Available MCP Servers

1.  **filesystem:** File system operations within the project directory
2.  **sqlite:** Database operations (if needed)
3.  **github:** GitHub API operations (repository management, issues, PRs)
4.  **playwright:** Browser automation and testing
5.  **astro-docs:** Access to Astro framework documentation

#### Usage Rules

-   **NEVER commit `.cursor/mcp.json`:** This file contains secrets and is excluded from git
-   **NEVER commit `.cursor/` directory:** All MCP configuration is local-only
-   **Use MCP servers for:**
  - Reading/writing files efficiently
  - GitHub repository operations (creating PRs, reading issues)
  - Searching Astro documentation
  - Browser automation when testing
-   **Do NOT expose tokens:** Never include MCP tokens in code, commits, or documentation
-   **File operations:** Prefer MCP filesystem tools for large-scale file operations
-   **GitHub operations:** Use MCP GitHub server for repository management instead of direct git commands when appropriate

#### Security Best Practices

-   Treat MCP configuration files as sensitive data
-   If you see `.cursor/mcp.json` in git status, it should be removed from tracking
-   All MCP-related files are already in `.gitignore`
-   When using GitHub MCP server, be mindful of rate limits and token permissions

---

## PART 2: THE BIG PICTURE: ARCHITECTURE & DESIGN

This part covers the high-level overview of the project, including its structure and visual identity.

### 3. Detailed Project Architecture

This section provides a file-level overview of the project structure to prevent the creation of unnecessary or misplaced files.

-   **`/` (Root)**
    -   `astro.config.mjs`: Main Astro configuration file. Controls integrations like Tailwind, MDX, and sitemaps.
    -   `tailwind.config.js`: Configuration for the Tailwind CSS framework.
    -   `tsconfig.json`: TypeScript configuration.
    -   `eslint.config.js`: ESLint v9 flat configuration for code quality and style.
-   **`src/`**: Contains all source code.
    -   **`components/`**: Reusable Astro components.
        -   `Navigation.astro`, `Footer.astro`: The main site header and footer.
        -   `MultiStepForm.astro`: Multi-step contact form with client-side interactivity.
        -   `SEO.astro`, `Breadcrumbs.astro`, `FAQSchema.astro`: SEO and structured data components.
        -   `CookieConsent.astro`: The GDPR/PDPL compliant cookie banner.
        -   `LegalLayout.astro`: Specialized layout for legal pages.
        -   `DevBar.astro`: A development-only toolbar for debugging.
    -   **`content/`**: Manages content collections via Astro's API.
        -   `config.ts`: Defines the schema for all content collections (currently only `blog`).
        -   `blog/`: Contains the individual blog post files in MDX format.
    -   **`data/`**: Organized TypeScript files for all site content (recently refactored).
        -   **`config/`**: Site-wide configuration.
            -   `site.ts`: Global site information (name, contact details, social links).
        -   **`collections/`**: Structured data collections.
            -   `services.ts`: Service definitions with features and deliverables.
            -   `servicesUseCases.ts`: Use cases for each service.
            -   `team.ts`: Team member profiles and information.
            -   `faq.ts`: Frequently asked questions organized by category.
        -   **`content/`**: Page-specific content (80% of pages now use these files).
            -   `homepage.ts`: Homepage hero, problems, methodology, CTAs.
            -   `about.ts`: About page mission, vision, values, team sections.
            -   `contact.ts`: Contact page hero, sidebar, additional options.
            -   `services.ts`: Services page hero, process, CTAs.
            -   `blog.ts`: Blog page hero, featured badge, empty states.
            -   `maturityCalculator.ts`: Calculator hero, intro, questions, results.
            -   `caseStudies.ts`: Case study data and page content.
            -   `forms.ts`: Multi-step form step definitions and validation messages.
            -   `cookies.ts`: Cookie consent banner and modal content.
            -   `legal.ts`: Legal pages navigation and sidebar content.
        -   **`shared/`**: Reusable common text.
            -   `common.ts`: Buttons, labels, CTAs, error messages, meta text.
    -   **`layouts/`**: Defines the main page structure.
        -   `BaseLayout.astro`: The primary layout, including the `<head>`, `<body>`, and slots for page content. It imports the `Navigation`, `Footer`, and `SEO` components.
        -   `LegalLayout.astro`: A specific layout for legal pages like the privacy policy.
    -   **`pages/`**: Represents the site's routes.
        -   `index.astro`: The homepage.
        -   `about.astro`, `contact.astro`, `faq.astro`: Standard static pages.
        -   `blog/index.astro`, `blog/[slug].astro`: The blog listing page and the dynamic template for individual blog posts.
        -   `services/index.astro`, `services/[id].astro`: The services listing page and the dynamic template for individual service pages.
        -   `api/contact.ts`, `api/newsletter.ts`: Server-side API endpoints with Zod validation and rate limiting.
    -   **`styles/`**: Contains global CSS.
        -   `global.css`: Defines global styles, CSS variables for the color palette, and custom animations.
    -   **`utils/`**: Utility functions and shared code.
        -   `validation.ts`: Zod validation schemas for forms (contact and newsletter).
        -   `rateLimit.ts`: Rate limiting utility for API endpoints with configurable presets.
-   **`public/`**: Stores static assets that are copied directly to the build output.
    -   `robots.txt`, `favicon.svg`, `logo.svg`, `brochure.pdf`, etc.
    -   `_headers`: Security headers configuration for Netlify deployment (CSP, X-Frame-Options, HSTS).
-   **`.github/workflows/`**: Contains CI/CD workflows.
    -   `deploy.yml`: Deploys the `master` branch to GitHub Pages (Production).
    -   `deploy-staging.yml`: Deploys `develop` and `staging` branches to Netlify (Staging).

### 4. Branding and Design Guidelines

This section outlines the visual identity of the AUXO Data Labs website.

#### Logo

-   **Design:** The logo is a distinctive 2x2 grid featuring the letters A-U-X-O.
-   **Location:** `public/logo.svg`

#### Color Palette

-   **Source:** The color scheme is defined as CSS variables in `src/styles/global.css`.
-   **Compliance:** The palette is designed for high contrast and readability (WCAG AA/AAA compliant).

| Role                 | Variable Name        | Hex Code  | Usage                               |
|----------------------|----------------------|-----------|-------------------------------------|
| **Primary Accent**   | `--accent-green`     | `#A3E635` | CTAs, links, highlights, icons      |
| **Background**       | `--bg-primary`       | `#000000` | Main page background                |
| **Primary Text**     | `--text-primary`     | `#FFFFFF` | Main body text                      |
| **Secondary Text**   | `--text-secondary`   | `#A0A0A` | Subheadings, less important text    |

#### Typography

-   **Source:** Fonts are defined in `src/styles/global.css` and loaded from Google Fonts in `src/components/SEO.astro`.
-   **Brand/Logo:** `Montserrat` (Weight: 900)
-   **Headings:** `Space Grotesk` (Weights: 600, 700, 800)
-   **Body:** `Inter` (Weights: 400, 500, 600, 700)

#### Iconography

-   **Primary Library:** The project uses [Material Design Icons](https://materialdesignicons.com/) via the `astro-icon` integration for UI icons throughout the site.
-   **Configuration:** The list of included MDI icons is managed in `astro.config.mjs` to optimize bundle size.

---

## PART 3: THE BUILDING BLOCKS: COMPONENTS & DATA

This part is a detailed reference for the project's reusable components and data structures.

### 5. Detailed Component Reference

#### `Navigation.astro`

-   **Location:** `src/components/Navigation.astro`
-   **Purpose:** Main site navigation with responsive mobile menu and desktop dropdowns.
-   **Key Features:**
  - Mobile menu with touch-optimized targets (44px × 44px minimum)
  - Desktop dropdown menus for Services and Resources
  - Active link highlighting based on current path
  - Body scroll lock when mobile menu is open

#### `Footer.astro`

-   **Location:** `src/components/Footer.astro`
-   **Purpose:** Site footer with contact info, navigation links, newsletter signup, and legal links.
-   **Key Features:**
  - Newsletter subscription with Brevo integration
  - Responsive grid layout (1 column mobile → 5 columns desktop)
  - Social media links (LinkedIn, Twitter)
  - Touch-optimized interactive elements
  - Uses `siteData` from `data/config/site.ts` and `services` from `data/collections/services.ts`

#### `SEO.astro`

-   **Location:** `src/components/SEO.astro`
-   **Purpose:** Manages all SEO-related meta tags and structured data for a given page.
-   **Props:**

| Prop           | Type         | Default                                                                                             |
|----------------|--------------|-----------------------------------------------------------------------------------------------------|
| `title`        | `string`     | `AUXO Data Labs | Dubai Analytics Consultancy`                                                         |
| `description`  | `string`     | `Leading analytics consultancy in Dubai, UAE...`                                                    |

#### `Breadcrumbs.astro`

-   **Location:** `src/components/Breadcrumbs.astro`
-   **Purpose:** Renders breadcrumb navigation and the corresponding `BreadcrumbList` structured data.
-   **Props:**

| Prop    | Type                          | Default     |
|---------|-------------------------------|-------------|
| `items` | `BreadcrumbItem[]`            | `[]`        |

-   **`BreadcrumbItem` Interface:**

    ```typescript
    export interface BreadcrumbItem {
      label: string;
      href?: string;
    }
    ```

### 6. Interactive Components

#### Maturity Calculator

-   **Location:** `src/pages/tools/maturity-calculator.astro`
-   **Purpose:** Interactive assessment tool for data maturity.
-   **Implementation:** Client-side script manages state (`currentQuestion`, `answers` array) and renders questions/results dynamically.
-   **Content:** Uses `maturityCalculatorContent` from `data/content/maturityCalculator.ts` for all text (hero, intro, questions, results).

#### Multi-Step Contact Form

-   **Location:** `src/components/MultiStepForm.astro`
-   **Purpose:** Multi-step contact form with comprehensive data collection.
-   **Backend:** Submits to `/api/contact` endpoint with full validation.
-   **Content:** Uses `multiStepFormContent` from `data/content/forms.ts` for step titles, validation messages, and navigation buttons.

### 7. Content Schemas & Data Structures

#### Data Organization Structure

The project uses a well-organized data hierarchy (refactored December 2025):

-   **`src/data/config/`**: Site-wide configuration that rarely changes
-   **`src/data/collections/`**: Structured data collections (services, FAQ, team, use cases)
-   **`src/data/content/`**: Page-specific content organized by page (homepage, about, contact, etc.)
-   **`src/data/shared/`**: Reusable common text used across multiple pages/components

**Status:** 80% of components and pages now use centralized data files instead of hardcoded content.

#### Blog Collection Schema

-   **File:** `src/content/config.ts`
-   **Collection:** `blog`
-   **Schema (Zod):**

| Field         | Type         | Required | Default |
|---------------|--------------|----------|---------|
| `title`       | `string`     | Yes      |         |
| `description` | `string`     | Yes      |         |
| `publishDate` | `date`       | Yes      |         |

#### Services Data Structure

-   **File:** `src/data/collections/services.ts`
-   **Structure:** An array of objects, where each object represents a service.

```typescript
export const services = [
  {
    id: string,
    title: string,
    description: string,
    icon: string, // mdi:icon-name
    features: string[],
    deliverables: string[],
  },
  // ...
];
```

#### Common Text Structure

-   **File:** `src/data/shared/common.ts`
-   **Purpose:** Centralized reusable text for buttons, labels, CTAs, error messages
-   **Usage:** Import `commonText` in components/pages to avoid duplicating common strings

```typescript
export const commonText = {
  buttons: { contact: 'Get in Touch', learnMore: 'Learn more', ... },
  labels: { email: 'Email', phone: 'Phone', ... },
  cta: { readyToTransform: 'Ready to Transform Your Business?', ... },
  errors: { pageNotFound: 'Page Not Found', ... },
  // ...
};
```

#### Page Content Structure

-   **Location:** `src/data/content/[pageName].ts`
-   **Pattern:** Each page has its own content file with TypeScript interfaces
-   **Examples:**
    -   `homepage.ts`: Hero, problems, methodology, whyChoose, CTAs
    -   `about.ts`: Mission, vision, values, team sections
    -   `maturityCalculator.ts`: Hero, intro, questionScreen, results
    -   `forms.ts`: Multi-step form step definitions
    -   `cookies.ts`: Cookie consent banner and modal content

---

## PART 4: THE MECHANICS: WORKFLOWS & INTEGRATIONS

This part covers the "how-to" aspects of the project.

### 8. Content Management Workflow

#### Adding a New Blog Post

1.  Create a new `.md` or `.mdx` file in `src/content/blog/`.
2.  Add the required frontmatter, following the schema in `src/content/config.ts`.

#### Adding or Modifying a Service

1.  Open `src/data/collections/services.ts`.
2.  Add or edit an object in the `services` array.

#### Modifying Page Content

1.  Identify which page needs changes (e.g., homepage, about, contact).
2.  Open the corresponding file in `src/data/content/[pageName].ts`.
3.  Update the relevant content properties.
4.  Ensure TypeScript interfaces are updated if structure changes.

#### Adding Common Text

1.  Check if the text is already in `src/data/shared/common.ts`.
2.  If not, add it to the appropriate category (buttons, labels, cta, errors, etc.).
3.  Import and use `commonText` in your component/page.

**Important:** Always update the corresponding TypeScript interface when modifying data structures.

### 9. API Endpoints & Data Flow

The project includes two secured API endpoints in `src/pages/api/` with comprehensive validation and rate limiting.

#### `/api/contact`

-   **Purpose:** Handles submissions from the multi-step contact form and sends emails via Brevo.
-   **Security:**
    - Zod validation for all form fields
    - Honeypot field for spam detection
    - Rate limiting: 3 requests per 30 minutes per IP
-   **Flow:** Validates input → Rate limit check → Sends emails to business and user via Brevo
-   **Response Codes:** 200 (success), 400 (validation error), 429 (rate limited), 500 (server error)

#### `/api/newsletter`

-   **Purpose:** Handles newsletter subscriptions with duplicate prevention.
-   **Security:**
    - Zod validation for email and consent
    - Rate limiting: 2 requests per hour per IP
-   **Features:**
    - Duplicate subscription check
    - Double opt-in confirmation emails
    - Adds contacts to Brevo list (ID: 2)
-   **Response Codes:** 200 (success/already subscribed), 400 (validation error), 429 (rate limited), 500 (server error)

### 10. Deployment

The project uses GitHub Actions for CI/CD (`.github/workflows/`):

-   **Production:** `master` branch → GitHub Pages
-   **Staging:** `develop` or `staging` branches → Netlify

### 11. SEO & Structured Data

-   **`SEO.astro` Component:** The central hub for all SEO-related settings.
-   **Structured Data:** The site uses JSON-LD for `Organization`, `LocalBusiness`, `WebSite`, `BlogPosting`, `BreadcrumbList`, and `FAQPage` schemas.
-   **`robots.txt`**: Located in `public/`, it allows all crawlers except for the `/api/` directory.

### 12. Development & Tooling

-   **ESLint:** The configuration in `eslint.config.js` uses ESLint v9 flat config format and enforces Astro best practices and accessibility standards via `eslint-plugin-astro` and `eslint-plugin-jsx-a11y`. The `jsx-a11y/label-has-associated-control` rule is configured to properly recognize `for` attribute associations in Astro components (configured with `assert: 'either'` and `depth: 25`).
-   **TypeScript:** Full type checking enabled via `@astrojs/check` and `typescript`. ViewTransitions deprecation warning is documented and suppressed with `@ts-ignore` - functionality remains intact.
-   **Validation:** Zod schemas in `src/utils/validation.ts` ensure type-safe form data validation.
-   **`DevBar.astro`:** A development-only toolbar with tools for debugging, accessibility testing, and cache clearing. Note: A build warning about empty script chunks is expected and harmless - it occurs because the component is conditionally rendered based on `import.meta.env.DEV`.

### 12.5 Security Features

The project implements multiple layers of security for forms and API endpoints:

#### Input Validation (Zod)

-   **Location:** `src/utils/validation.ts`
-   **Schemas:**
    - `contactFormSchema`: Validates contact form submissions
    - `newsletterSchema`: Validates newsletter signups
-   **Features:**
    - Type-safe validation with detailed error messages
    - Length constraints to prevent abuse
    - Format validation (email, name patterns)
    - Honeypot field for spam detection
    - Sanitization of special characters

#### Rate Limiting

-   **Location:** `src/utils/rateLimit.ts`
-   **Implementation:** In-memory sliding window rate limiter with configurable presets
-   **Features:** IP-based tracking, automatic cleanup, HTTP 429 responses with Retry-After headers

#### Security Headers

-   **Location:** `public/_headers`
-   **Deployment:** Netlify (automatic), GitHub Pages (requires manual configuration)
-   **Headers Configured:**
    - **Content-Security-Policy (CSP):** Restricts resource loading to trusted sources
      -   **Note:** Currently uses `'unsafe-inline'` for scripts and styles due to Astro's ViewTransitions and client-side interactive components. This is documented in `_headers` with a future enhancement path for nonce-based CSP implementation.
    - **X-Frame-Options:** Prevents clickjacking (DENY)
    - **X-Content-Type-Options:** Prevents MIME-type sniffing (nosniff)
    - **X-XSS-Protection:** Enables browser XSS protection
    - **Strict-Transport-Security (HSTS):** Enforces HTTPS (1 year, includeSubDomains, preload)
    - **Referrer-Policy:** Controls referrer information (strict-origin-when-cross-origin)
    - **Permissions-Policy:** Restricts browser features (geolocation, microphone, camera disabled)

#### Environment-Based Logging

-   Console.log statements only execute in development mode
-   Sensitive data never logged

### 13. Environment Variables

-   **Source:** The `.env.example` file provides a template for all required variables.
-   **Key Variables:**
    - `PUBLIC_SITE_URL`: Base URL for the website (e.g., https://auxodata.com)
    - `BREVO_API_KEY`: Brevo (Sendinblue) API key for email services
    - `BREVO_FROM_EMAIL`: Verified sender email address (must be verified in Brevo dashboard)
    - `BREVO_FROM_NAME`: Display name for sender (e.g., "AUXO Data Labs")
    - `CONTACT_EMAIL`: Email address to receive contact form submissions
    - `PUBLIC_GOOGLE_ANALYTICS_ID`: Google Analytics measurement ID (optional)

**Important:** All Brevo environment variables are required for the contact form and newsletter to function. The `BREVO_FROM_EMAIL` must be verified in your Brevo account before emails can be sent.

---

## APPENDIX: Quick Reference

### File Locations Quick Reference
-   **Homepage:** `src/pages/index.astro`
-   **Navigation:** `src/components/Navigation.astro`
-   **Footer:** `src/components/Footer.astro`
-   **SEO:** `src/components/SEO.astro`
-   **Base Layout:** `src/layouts/BaseLayout.astro`
-   **Site Configuration:** `src/data/config/site.ts`
-   **Services Data:** `src/data/collections/services.ts`
-   **Common Text:** `src/data/shared/common.ts`
-   **Homepage Content:** `src/data/content/homepage.ts`
-   **About Content:** `src/data/content/about.ts`
-   **Contact Content:** `src/data/content/contact.ts`
-   **Forms Content:** `src/data/content/forms.ts`
-   **Maturity Calculator Content:** `src/data/content/maturityCalculator.ts`
-   **Global Styles:** `src/styles/global.css`
-   **Validation Schemas:** `src/utils/validation.ts`
-   **Rate Limiting:** `src/utils/rateLimit.ts`
-   **Security Headers:** `public/_headers`
-   **Astro Config:** `astro.config.mjs`
-   **Tailwind Config:** `tailwind.config.js`
-   **TypeScript Config:** `tsconfig.json`
-   **ESLint Config:** `eslint.config.js`

### Common Commands
```bash
npm run dev          # Start development server
npm run build        # Build for production
npm run preview      # Preview production build
npm run lint         # Run ESLint v9 with flat config
npm run lint:fix     # Auto-fix linting issues
npm run check        # Type check with Astro and TypeScript
```

### Base URL Usage
```astro
---
const base = import.meta.env.BASE_URL;
---
<a href={`${base}about`}>About</a>
<img src={`${base}logo.svg`} />
<script>
  fetch(`${import.meta.env.BASE_URL}api/contact`, { ... });
</script>
```

---