---
// Third-party
import { Icon } from "astro-icon/components";

// Data
import { services } from "../../../data/collections/services";
import { commonText } from "../../../data/content/shared/common";

// Utils
import { createUrl } from "../../../utils/url";

interface Props {
  services: typeof services;
}

const { services: serviceList } = Astro.props;
---

<div
  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6 lg:gap-8"
>
  {
    serviceList.map((service) => (
      <a
        href={createUrl(`services/${service.id}`)}
        class="group bg-card border-2 border-theme rounded-2xl p-4 sm:p-6 md:p-8 hover:border-accent-green transition-all duration-normal hover:transform hover:-translate-y-1 relative min-h-[180px] sm:min-h-[220px] flex flex-col"
        aria-label={`Learn more about ${service.title}`}
      >
        <!-- Badges Container -->
        <div class="absolute top-3 right-3 z-content flex flex-row gap-2 items-center">
          {service.complexity && (
            <div class="bg-accent-green/20 text-accent-green text-xs font-semibold px-2 py-1 rounded-full border border-accent-green backdrop-blur-sm flex items-center gap-1.5">
              {service.complexity === 'Beginner-Friendly' && (
                <Icon name="mdi:check-circle" class="w-3 h-3" />
              )}
              {service.complexity === 'Intermediate' && (
                <Icon name="mdi:minus" class="w-3 h-3" />
              )}
              {service.complexity === 'Enterprise-Level' && (
                <Icon name="mdi:star" class="w-3 h-3" />
              )}
              <span>{service.complexity}</span>
            </div>
          )}
          {service.timeline && (
            <div class="bg-accent-green/20 text-accent-green text-xs font-semibold px-2 py-1 rounded-full border border-accent-green backdrop-blur-sm flex items-center gap-1.5">
              <Icon name="mdi:clock" class="w-3 h-3" />
              <span>{service.timeline}</span>
            </div>
          )}
        </div>

        <!-- Icon and Title Row -->
        <div class="flex items-center gap-2 sm:gap-3 mt-4 sm:mt-6 md:mt-8 mb-3 sm:mb-5 md:mb-6">
          <div class="w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-accent-green/10 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:bg-accent-green/20 transition-colors -ml-3">
            <Icon
              name={service.icon}
              class="w-4 h-4 sm:w-6 sm:h-6 md:w-7 md:h-7 text-accent-green transition-colors"
            />
          </div>
          <h3 class="flex-1 text-sm sm:text-lg md:text-xl font-bold group-hover:text-accent-green transition-colors tracking-tight text-primary">
            {service.title}
          </h3>
        </div>

        <p class="text-secondary mb-3 sm:mb-5 text-xs sm:text-base leading-relaxed line-clamp-3 md:line-clamp-4 lg:line-clamp-none transition-colors flex-grow">
          {service.description}
        </p>

        <div class="flex items-center text-accent-green font-bold text-xs sm:text-base transition-colors mt-auto pt-2">
          {commonText.buttons.learnMore}
          <svg
            class="w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </div>
      </a>
    ))
  }
</div>

